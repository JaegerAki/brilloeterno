{% extends "Admin/layout.twig" %}
{% block content %}

	<div class="container mt-4 mb-4">
		<h2>{{title}}</h2>
		<p>{{description}}</p>
		<a href="{{ basePath }}/admin/categories/create" class="btn btn-primary mb-3">Nuevo</a>
		<table id="categoriesTable" class="table table-striped table-bordered" style="width:100%">
			<thead>
				<tr>
					<th>ID</th>
					<th>Nombre</th>
					<th>Categoría</th>
					<th>Acciones</th>
				</tr>
			</thead>
			<tbody>
				{% for item in categories %}
					<tr>

						<td>{{ item.id }}</td>
						<td>{{ item.detail.name }}</td>
						<td>{{ item.detail.description }}</td>
						<td>
							<a href="{{basePath}}/admin/categories/{{ item.id }}" class="btn btn-sm btn-info">Ver</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	 <script>
			    document.addEventListener('DOMContentLoaded', function() {
			        $('#categoriesTable').DataTable({
			            language: {
			                url: '{{ basePath }}/public/assets/js/es-ES.json'
			            },
						searching: false, // Habilitar la búsqueda
						search: {
							"caseInsensitive": true // Búsqueda sin distinción entre mayúsculas y minúsculas
						},
		                pageLength: 5,
						lengthChange: false,
			        });
			    });
			</script>
{% endblock %}
