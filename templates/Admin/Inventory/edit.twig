{% extends "Admin/layout.twig" %}
{% block title %}
	{{title}}
{% endblock %}
{% block content %}
<div class="container mt-4 mb-4">
		<h2>{{title}}</h2>
		<form action="{{ basePath }}{{action}}" method="post" enctype="multipart/form-data" class="inventory-form" style="max-width: 500px; margin: 0 auto; background: #fff; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="margin-bottom: 1.2rem;">
                <label for="category_id" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">Categoría:</label>
                <select id="category_id" name="category_id" required style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
                    <option value="">Seleccione una categoría</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}"
                            {% if product.productCategory.id is defined and product.productCategory.id == category.id %}
                                selected
                            {% endif %}
                        >{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div style="margin-bottom: 1.2rem;">
				<label for="name" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">Nombre del Producto:</label>
				<input type="text" id="name" name="name" value="{{ product.productInventoryDetail.name|default('') }}" required style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
			</div>
			<div style="margin-bottom: 1.2rem;">
				<label for="description" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">Descripción:</label>
				<textarea id="description" name="description" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">{{ product.productInventoryDetail.description|default('') }}</textarea>
			</div>
			<div style="margin-bottom: 1.2rem;">
				<label for="price" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">Precio:</label>
				<input type="number" id="price" name="price" step="0.01" value="{{ product.productInventoryDetail.price|default('0') }}" required style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
			</div>
			<div style="margin-bottom: 1.2rem;">
				<label for="stock" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">Cantidad:</label>
				<input type="number" id="stock" name="stock" min="0" value="{{ product.productInventoryDetail.stock|default('0') }}" required style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
			</div>
            <div style="margin-bottom: 1.2rem;">
                <label for="picture" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">Imagen del Producto:</label>
                <input type="file" id="picture" name="picture" accept="image/*" style="display: block;">
                {% if product.productInventoryDetail.picture is defined and product.productInventoryDetail.picture %}
                    <div style="margin-top: 0.5rem;">
                        <strong>Archivo actual:</strong>
                        <img src="{{ picturePath }}/{{ product.productInventoryDetail.picture }}" alt="Imagen actual" style="max-width: 120px; margin-top: 0.5rem;">
                    </div>
                {% endif %}
            </div>
			<button type="submit" style="background:rgb(106, 178, 255); color: #fff; padding: 0.7rem 1.5rem; border: none; border-radius: 4px; font-size: 1rem; cursor: pointer; transition: background 0.2s;">
				Guardar
			</button>
		</form>
	</div>
{% endblock %}
